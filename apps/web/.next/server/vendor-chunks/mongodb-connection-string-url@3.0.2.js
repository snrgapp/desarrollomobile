"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/mongodb-connection-string-url@3.0.2";
exports.ids = ["vendor-chunks/mongodb-connection-string-url@3.0.2"];
exports.modules = {

/***/ "(rsc)/../../node_modules/.pnpm/mongodb-connection-string-url@3.0.2/node_modules/mongodb-connection-string-url/lib/index.js":
/*!****************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/mongodb-connection-string-url@3.0.2/node_modules/mongodb-connection-string-url/lib/index.js ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CommaAndColonSeparatedRecord = exports.ConnectionString = exports.redactConnectionString = void 0;\nconst whatwg_url_1 = __webpack_require__(/*! whatwg-url */ \"(rsc)/../../node_modules/.pnpm/whatwg-url@14.2.0/node_modules/whatwg-url/index.js\");\nconst redact_1 = __webpack_require__(/*! ./redact */ \"(rsc)/../../node_modules/.pnpm/mongodb-connection-string-url@3.0.2/node_modules/mongodb-connection-string-url/lib/redact.js\");\nObject.defineProperty(exports, \"redactConnectionString\", ({ enumerable: true, get: function () { return redact_1.redactConnectionString; } }));\nconst DUMMY_HOSTNAME = '__this_is_a_placeholder__';\nfunction connectionStringHasValidScheme(connectionString) {\n    return (connectionString.startsWith('mongodb://') ||\n        connectionString.startsWith('mongodb+srv://'));\n}\nconst HOSTS_REGEX = /^(?<protocol>[^/]+):\\/\\/(?:(?<username>[^:@]*)(?::(?<password>[^@]*))?@)?(?<hosts>(?!:)[^/?@]*)(?<rest>.*)/;\nclass CaseInsensitiveMap extends Map {\n    delete(name) {\n        return super.delete(this._normalizeKey(name));\n    }\n    get(name) {\n        return super.get(this._normalizeKey(name));\n    }\n    has(name) {\n        return super.has(this._normalizeKey(name));\n    }\n    set(name, value) {\n        return super.set(this._normalizeKey(name), value);\n    }\n    _normalizeKey(name) {\n        name = `${name}`;\n        for (const key of this.keys()) {\n            if (key.toLowerCase() === name.toLowerCase()) {\n                name = key;\n                break;\n            }\n        }\n        return name;\n    }\n}\nfunction caseInsenstiveURLSearchParams(Ctor) {\n    return class CaseInsenstiveURLSearchParams extends Ctor {\n        append(name, value) {\n            return super.append(this._normalizeKey(name), value);\n        }\n        delete(name) {\n            return super.delete(this._normalizeKey(name));\n        }\n        get(name) {\n            return super.get(this._normalizeKey(name));\n        }\n        getAll(name) {\n            return super.getAll(this._normalizeKey(name));\n        }\n        has(name) {\n            return super.has(this._normalizeKey(name));\n        }\n        set(name, value) {\n            return super.set(this._normalizeKey(name), value);\n        }\n        keys() {\n            return super.keys();\n        }\n        values() {\n            return super.values();\n        }\n        entries() {\n            return super.entries();\n        }\n        [Symbol.iterator]() {\n            return super[Symbol.iterator]();\n        }\n        _normalizeKey(name) {\n            return CaseInsensitiveMap.prototype._normalizeKey.call(this, name);\n        }\n    };\n}\nclass URLWithoutHost extends whatwg_url_1.URL {\n}\nclass MongoParseError extends Error {\n    get name() {\n        return 'MongoParseError';\n    }\n}\nclass ConnectionString extends URLWithoutHost {\n    constructor(uri, options = {}) {\n        var _a;\n        const { looseValidation } = options;\n        if (!looseValidation && !connectionStringHasValidScheme(uri)) {\n            throw new MongoParseError('Invalid scheme, expected connection string to start with \"mongodb://\" or \"mongodb+srv://\"');\n        }\n        const match = uri.match(HOSTS_REGEX);\n        if (!match) {\n            throw new MongoParseError(`Invalid connection string \"${uri}\"`);\n        }\n        const { protocol, username, password, hosts, rest } = (_a = match.groups) !== null && _a !== void 0 ? _a : {};\n        if (!looseValidation) {\n            if (!protocol || !hosts) {\n                throw new MongoParseError(`Protocol and host list are required in \"${uri}\"`);\n            }\n            try {\n                decodeURIComponent(username !== null && username !== void 0 ? username : '');\n                decodeURIComponent(password !== null && password !== void 0 ? password : '');\n            }\n            catch (err) {\n                throw new MongoParseError(err.message);\n            }\n            const illegalCharacters = /[:/?#[\\]@]/gi;\n            if (username === null || username === void 0 ? void 0 : username.match(illegalCharacters)) {\n                throw new MongoParseError(`Username contains unescaped characters ${username}`);\n            }\n            if (!username || !password) {\n                const uriWithoutProtocol = uri.replace(`${protocol}://`, '');\n                if (uriWithoutProtocol.startsWith('@') || uriWithoutProtocol.startsWith(':')) {\n                    throw new MongoParseError('URI contained empty userinfo section');\n                }\n            }\n            if (password === null || password === void 0 ? void 0 : password.match(illegalCharacters)) {\n                throw new MongoParseError('Password contains unescaped characters');\n            }\n        }\n        let authString = '';\n        if (typeof username === 'string')\n            authString += username;\n        if (typeof password === 'string')\n            authString += `:${password}`;\n        if (authString)\n            authString += '@';\n        try {\n            super(`${protocol.toLowerCase()}://${authString}${DUMMY_HOSTNAME}${rest}`);\n        }\n        catch (err) {\n            if (looseValidation) {\n                new ConnectionString(uri, {\n                    ...options,\n                    looseValidation: false\n                });\n            }\n            if (typeof err.message === 'string') {\n                err.message = err.message.replace(DUMMY_HOSTNAME, hosts);\n            }\n            throw err;\n        }\n        this._hosts = hosts.split(',');\n        if (!looseValidation) {\n            if (this.isSRV && this.hosts.length !== 1) {\n                throw new MongoParseError('mongodb+srv URI cannot have multiple service names');\n            }\n            if (this.isSRV && this.hosts.some(host => host.includes(':'))) {\n                throw new MongoParseError('mongodb+srv URI cannot have port number');\n            }\n        }\n        if (!this.pathname) {\n            this.pathname = '/';\n        }\n        Object.setPrototypeOf(this.searchParams, caseInsenstiveURLSearchParams(this.searchParams.constructor).prototype);\n    }\n    get host() { return DUMMY_HOSTNAME; }\n    set host(_ignored) { throw new Error('No single host for connection string'); }\n    get hostname() { return DUMMY_HOSTNAME; }\n    set hostname(_ignored) { throw new Error('No single host for connection string'); }\n    get port() { return ''; }\n    set port(_ignored) { throw new Error('No single host for connection string'); }\n    get href() { return this.toString(); }\n    set href(_ignored) { throw new Error('Cannot set href for connection strings'); }\n    get isSRV() {\n        return this.protocol.includes('srv');\n    }\n    get hosts() {\n        return this._hosts;\n    }\n    set hosts(list) {\n        this._hosts = list;\n    }\n    toString() {\n        return super.toString().replace(DUMMY_HOSTNAME, this.hosts.join(','));\n    }\n    clone() {\n        return new ConnectionString(this.toString(), {\n            looseValidation: true\n        });\n    }\n    redact(options) {\n        return (0, redact_1.redactValidConnectionString)(this, options);\n    }\n    typedSearchParams() {\n        const sametype =  false && 0;\n        return this.searchParams;\n    }\n    [Symbol.for('nodejs.util.inspect.custom')]() {\n        const { href, origin, protocol, username, password, hosts, pathname, search, searchParams, hash } = this;\n        return { href, origin, protocol, username, password, hosts, pathname, search, searchParams, hash };\n    }\n}\nexports.ConnectionString = ConnectionString;\nclass CommaAndColonSeparatedRecord extends CaseInsensitiveMap {\n    constructor(from) {\n        super();\n        for (const entry of (from !== null && from !== void 0 ? from : '').split(',')) {\n            if (!entry)\n                continue;\n            const colonIndex = entry.indexOf(':');\n            if (colonIndex === -1) {\n                this.set(entry, '');\n            }\n            else {\n                this.set(entry.slice(0, colonIndex), entry.slice(colonIndex + 1));\n            }\n        }\n    }\n    toString() {\n        return [...this].map(entry => entry.join(':')).join(',');\n    }\n}\nexports.CommaAndColonSeparatedRecord = CommaAndColonSeparatedRecord;\nexports[\"default\"] = ConnectionString;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vbmdvZGItY29ubmVjdGlvbi1zdHJpbmctdXJsQDMuMC4yL25vZGVfbW9kdWxlcy9tb25nb2RiLWNvbm5lY3Rpb24tc3RyaW5nLXVybC9saWIvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0NBQW9DLEdBQUcsd0JBQXdCLEdBQUcsOEJBQThCO0FBQ2hHLHFCQUFxQixtQkFBTyxDQUFDLHFHQUFZO0FBQ3pDLGlCQUFpQixtQkFBTyxDQUFDLDZJQUFVO0FBQ25DLDBEQUF5RCxFQUFFLHFDQUFxQywyQ0FBMkMsRUFBQztBQUM1STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLEtBQUs7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0EsZ0JBQWdCLGtCQUFrQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLElBQUk7QUFDeEU7QUFDQSxnQkFBZ0IsNENBQTRDO0FBQzVEO0FBQ0E7QUFDQSxxRkFBcUYsSUFBSTtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9GQUFvRixTQUFTO0FBQzdGO0FBQ0E7QUFDQSwwREFBMEQsU0FBUztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsU0FBUztBQUN2QztBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsdUJBQXVCLEtBQUssV0FBVyxFQUFFLGVBQWUsRUFBRSxLQUFLO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckIsNkJBQTZCO0FBQzdCLGlCQUFpQjtBQUNqQix5QkFBeUI7QUFDekIsaUJBQWlCO0FBQ2pCLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixNQUFLLElBQUksQ0FBbUU7QUFDckc7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDBGQUEwRjtBQUMxRyxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQyxrQkFBZTtBQUNmIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGVyaWNfXFxEZXNrdG9wXFxzeW5lcmd5LW1hdGNoLWFwcFxcbm9kZV9tb2R1bGVzXFwucG5wbVxcbW9uZ29kYi1jb25uZWN0aW9uLXN0cmluZy11cmxAMy4wLjJcXG5vZGVfbW9kdWxlc1xcbW9uZ29kYi1jb25uZWN0aW9uLXN0cmluZy11cmxcXGxpYlxcaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNvbW1hQW5kQ29sb25TZXBhcmF0ZWRSZWNvcmQgPSBleHBvcnRzLkNvbm5lY3Rpb25TdHJpbmcgPSBleHBvcnRzLnJlZGFjdENvbm5lY3Rpb25TdHJpbmcgPSB2b2lkIDA7XG5jb25zdCB3aGF0d2dfdXJsXzEgPSByZXF1aXJlKFwid2hhdHdnLXVybFwiKTtcbmNvbnN0IHJlZGFjdF8xID0gcmVxdWlyZShcIi4vcmVkYWN0XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicmVkYWN0Q29ubmVjdGlvblN0cmluZ1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVkYWN0XzEucmVkYWN0Q29ubmVjdGlvblN0cmluZzsgfSB9KTtcbmNvbnN0IERVTU1ZX0hPU1ROQU1FID0gJ19fdGhpc19pc19hX3BsYWNlaG9sZGVyX18nO1xuZnVuY3Rpb24gY29ubmVjdGlvblN0cmluZ0hhc1ZhbGlkU2NoZW1lKGNvbm5lY3Rpb25TdHJpbmcpIHtcbiAgICByZXR1cm4gKGNvbm5lY3Rpb25TdHJpbmcuc3RhcnRzV2l0aCgnbW9uZ29kYjovLycpIHx8XG4gICAgICAgIGNvbm5lY3Rpb25TdHJpbmcuc3RhcnRzV2l0aCgnbW9uZ29kYitzcnY6Ly8nKSk7XG59XG5jb25zdCBIT1NUU19SRUdFWCA9IC9eKD88cHJvdG9jb2w+W14vXSspOlxcL1xcLyg/Oig/PHVzZXJuYW1lPlteOkBdKikoPzo6KD88cGFzc3dvcmQ+W15AXSopKT9AKT8oPzxob3N0cz4oPyE6KVteLz9AXSopKD88cmVzdD4uKikvO1xuY2xhc3MgQ2FzZUluc2Vuc2l0aXZlTWFwIGV4dGVuZHMgTWFwIHtcbiAgICBkZWxldGUobmFtZSkge1xuICAgICAgICByZXR1cm4gc3VwZXIuZGVsZXRlKHRoaXMuX25vcm1hbGl6ZUtleShuYW1lKSk7XG4gICAgfVxuICAgIGdldChuYW1lKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5nZXQodGhpcy5fbm9ybWFsaXplS2V5KG5hbWUpKTtcbiAgICB9XG4gICAgaGFzKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmhhcyh0aGlzLl9ub3JtYWxpemVLZXkobmFtZSkpO1xuICAgIH1cbiAgICBzZXQobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLnNldCh0aGlzLl9ub3JtYWxpemVLZXkobmFtZSksIHZhbHVlKTtcbiAgICB9XG4gICAgX25vcm1hbGl6ZUtleShuYW1lKSB7XG4gICAgICAgIG5hbWUgPSBgJHtuYW1lfWA7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHRoaXMua2V5cygpKSB7XG4gICAgICAgICAgICBpZiAoa2V5LnRvTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgICAgIG5hbWUgPSBrZXk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfVxufVxuZnVuY3Rpb24gY2FzZUluc2Vuc3RpdmVVUkxTZWFyY2hQYXJhbXMoQ3Rvcikge1xuICAgIHJldHVybiBjbGFzcyBDYXNlSW5zZW5zdGl2ZVVSTFNlYXJjaFBhcmFtcyBleHRlbmRzIEN0b3Ige1xuICAgICAgICBhcHBlbmQobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5hcHBlbmQodGhpcy5fbm9ybWFsaXplS2V5KG5hbWUpLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5kZWxldGUodGhpcy5fbm9ybWFsaXplS2V5KG5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgICBnZXQobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmdldCh0aGlzLl9ub3JtYWxpemVLZXkobmFtZSkpO1xuICAgICAgICB9XG4gICAgICAgIGdldEFsbChuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuZ2V0QWxsKHRoaXMuX25vcm1hbGl6ZUtleShuYW1lKSk7XG4gICAgICAgIH1cbiAgICAgICAgaGFzKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5oYXModGhpcy5fbm9ybWFsaXplS2V5KG5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgICBzZXQobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5zZXQodGhpcy5fbm9ybWFsaXplS2V5KG5hbWUpLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAga2V5cygpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5rZXlzKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWVzKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLnZhbHVlcygpO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuZW50cmllcygpO1xuICAgICAgICB9XG4gICAgICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICAgICAgfVxuICAgICAgICBfbm9ybWFsaXplS2V5KG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBDYXNlSW5zZW5zaXRpdmVNYXAucHJvdG90eXBlLl9ub3JtYWxpemVLZXkuY2FsbCh0aGlzLCBuYW1lKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5jbGFzcyBVUkxXaXRob3V0SG9zdCBleHRlbmRzIHdoYXR3Z191cmxfMS5VUkwge1xufVxuY2xhc3MgTW9uZ29QYXJzZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gJ01vbmdvUGFyc2VFcnJvcic7XG4gICAgfVxufVxuY2xhc3MgQ29ubmVjdGlvblN0cmluZyBleHRlbmRzIFVSTFdpdGhvdXRIb3N0IHtcbiAgICBjb25zdHJ1Y3Rvcih1cmksIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHsgbG9vc2VWYWxpZGF0aW9uIH0gPSBvcHRpb25zO1xuICAgICAgICBpZiAoIWxvb3NlVmFsaWRhdGlvbiAmJiAhY29ubmVjdGlvblN0cmluZ0hhc1ZhbGlkU2NoZW1lKHVyaSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNb25nb1BhcnNlRXJyb3IoJ0ludmFsaWQgc2NoZW1lLCBleHBlY3RlZCBjb25uZWN0aW9uIHN0cmluZyB0byBzdGFydCB3aXRoIFwibW9uZ29kYjovL1wiIG9yIFwibW9uZ29kYitzcnY6Ly9cIicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1hdGNoID0gdXJpLm1hdGNoKEhPU1RTX1JFR0VYKTtcbiAgICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1vbmdvUGFyc2VFcnJvcihgSW52YWxpZCBjb25uZWN0aW9uIHN0cmluZyBcIiR7dXJpfVwiYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBwcm90b2NvbCwgdXNlcm5hbWUsIHBhc3N3b3JkLCBob3N0cywgcmVzdCB9ID0gKF9hID0gbWF0Y2guZ3JvdXBzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fTtcbiAgICAgICAgaWYgKCFsb29zZVZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgIGlmICghcHJvdG9jb2wgfHwgIWhvc3RzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1vbmdvUGFyc2VFcnJvcihgUHJvdG9jb2wgYW5kIGhvc3QgbGlzdCBhcmUgcmVxdWlyZWQgaW4gXCIke3VyaX1cImApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBkZWNvZGVVUklDb21wb25lbnQodXNlcm5hbWUgIT09IG51bGwgJiYgdXNlcm5hbWUgIT09IHZvaWQgMCA/IHVzZXJuYW1lIDogJycpO1xuICAgICAgICAgICAgICAgIGRlY29kZVVSSUNvbXBvbmVudChwYXNzd29yZCAhPT0gbnVsbCAmJiBwYXNzd29yZCAhPT0gdm9pZCAwID8gcGFzc3dvcmQgOiAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1vbmdvUGFyc2VFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpbGxlZ2FsQ2hhcmFjdGVycyA9IC9bOi8/I1tcXF1AXS9naTtcbiAgICAgICAgICAgIGlmICh1c2VybmFtZSA9PT0gbnVsbCB8fCB1c2VybmFtZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdXNlcm5hbWUubWF0Y2goaWxsZWdhbENoYXJhY3RlcnMpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1vbmdvUGFyc2VFcnJvcihgVXNlcm5hbWUgY29udGFpbnMgdW5lc2NhcGVkIGNoYXJhY3RlcnMgJHt1c2VybmFtZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdXNlcm5hbWUgfHwgIXBhc3N3b3JkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJpV2l0aG91dFByb3RvY29sID0gdXJpLnJlcGxhY2UoYCR7cHJvdG9jb2x9Oi8vYCwgJycpO1xuICAgICAgICAgICAgICAgIGlmICh1cmlXaXRob3V0UHJvdG9jb2wuc3RhcnRzV2l0aCgnQCcpIHx8IHVyaVdpdGhvdXRQcm90b2NvbC5zdGFydHNXaXRoKCc6JykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1vbmdvUGFyc2VFcnJvcignVVJJIGNvbnRhaW5lZCBlbXB0eSB1c2VyaW5mbyBzZWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhc3N3b3JkID09PSBudWxsIHx8IHBhc3N3b3JkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXNzd29yZC5tYXRjaChpbGxlZ2FsQ2hhcmFjdGVycykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTW9uZ29QYXJzZUVycm9yKCdQYXNzd29yZCBjb250YWlucyB1bmVzY2FwZWQgY2hhcmFjdGVycycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBhdXRoU3RyaW5nID0gJyc7XG4gICAgICAgIGlmICh0eXBlb2YgdXNlcm5hbWUgPT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgYXV0aFN0cmluZyArPSB1c2VybmFtZTtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXNzd29yZCA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICBhdXRoU3RyaW5nICs9IGA6JHtwYXNzd29yZH1gO1xuICAgICAgICBpZiAoYXV0aFN0cmluZylcbiAgICAgICAgICAgIGF1dGhTdHJpbmcgKz0gJ0AnO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3VwZXIoYCR7cHJvdG9jb2wudG9Mb3dlckNhc2UoKX06Ly8ke2F1dGhTdHJpbmd9JHtEVU1NWV9IT1NUTkFNRX0ke3Jlc3R9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKGxvb3NlVmFsaWRhdGlvbikge1xuICAgICAgICAgICAgICAgIG5ldyBDb25uZWN0aW9uU3RyaW5nKHVyaSwge1xuICAgICAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICBsb29zZVZhbGlkYXRpb246IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGVyci5tZXNzYWdlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGVyci5tZXNzYWdlID0gZXJyLm1lc3NhZ2UucmVwbGFjZShEVU1NWV9IT1NUTkFNRSwgaG9zdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2hvc3RzID0gaG9zdHMuc3BsaXQoJywnKTtcbiAgICAgICAgaWYgKCFsb29zZVZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzU1JWICYmIHRoaXMuaG9zdHMubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1vbmdvUGFyc2VFcnJvcignbW9uZ29kYitzcnYgVVJJIGNhbm5vdCBoYXZlIG11bHRpcGxlIHNlcnZpY2UgbmFtZXMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmlzU1JWICYmIHRoaXMuaG9zdHMuc29tZShob3N0ID0+IGhvc3QuaW5jbHVkZXMoJzonKSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTW9uZ29QYXJzZUVycm9yKCdtb25nb2RiK3NydiBVUkkgY2Fubm90IGhhdmUgcG9ydCBudW1iZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMucGF0aG5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMucGF0aG5hbWUgPSAnLyc7XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMuc2VhcmNoUGFyYW1zLCBjYXNlSW5zZW5zdGl2ZVVSTFNlYXJjaFBhcmFtcyh0aGlzLnNlYXJjaFBhcmFtcy5jb25zdHJ1Y3RvcikucHJvdG90eXBlKTtcbiAgICB9XG4gICAgZ2V0IGhvc3QoKSB7IHJldHVybiBEVU1NWV9IT1NUTkFNRTsgfVxuICAgIHNldCBob3N0KF9pZ25vcmVkKSB7IHRocm93IG5ldyBFcnJvcignTm8gc2luZ2xlIGhvc3QgZm9yIGNvbm5lY3Rpb24gc3RyaW5nJyk7IH1cbiAgICBnZXQgaG9zdG5hbWUoKSB7IHJldHVybiBEVU1NWV9IT1NUTkFNRTsgfVxuICAgIHNldCBob3N0bmFtZShfaWdub3JlZCkgeyB0aHJvdyBuZXcgRXJyb3IoJ05vIHNpbmdsZSBob3N0IGZvciBjb25uZWN0aW9uIHN0cmluZycpOyB9XG4gICAgZ2V0IHBvcnQoKSB7IHJldHVybiAnJzsgfVxuICAgIHNldCBwb3J0KF9pZ25vcmVkKSB7IHRocm93IG5ldyBFcnJvcignTm8gc2luZ2xlIGhvc3QgZm9yIGNvbm5lY3Rpb24gc3RyaW5nJyk7IH1cbiAgICBnZXQgaHJlZigpIHsgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTsgfVxuICAgIHNldCBocmVmKF9pZ25vcmVkKSB7IHRocm93IG5ldyBFcnJvcignQ2Fubm90IHNldCBocmVmIGZvciBjb25uZWN0aW9uIHN0cmluZ3MnKTsgfVxuICAgIGdldCBpc1NSVigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvdG9jb2wuaW5jbHVkZXMoJ3NydicpO1xuICAgIH1cbiAgICBnZXQgaG9zdHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ob3N0cztcbiAgICB9XG4gICAgc2V0IGhvc3RzKGxpc3QpIHtcbiAgICAgICAgdGhpcy5faG9zdHMgPSBsaXN0O1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLnRvU3RyaW5nKCkucmVwbGFjZShEVU1NWV9IT1NUTkFNRSwgdGhpcy5ob3N0cy5qb2luKCcsJykpO1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb25uZWN0aW9uU3RyaW5nKHRoaXMudG9TdHJpbmcoKSwge1xuICAgICAgICAgICAgbG9vc2VWYWxpZGF0aW9uOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZWRhY3Qob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKDAsIHJlZGFjdF8xLnJlZGFjdFZhbGlkQ29ubmVjdGlvblN0cmluZykodGhpcywgb3B0aW9ucyk7XG4gICAgfVxuICAgIHR5cGVkU2VhcmNoUGFyYW1zKCkge1xuICAgICAgICBjb25zdCBzYW1ldHlwZSA9IGZhbHNlICYmIG5ldyAoY2FzZUluc2Vuc3RpdmVVUkxTZWFyY2hQYXJhbXMod2hhdHdnX3VybF8xLlVSTFNlYXJjaFBhcmFtcykpKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnNlYXJjaFBhcmFtcztcbiAgICB9XG4gICAgW1N5bWJvbC5mb3IoJ25vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tJyldKCkge1xuICAgICAgICBjb25zdCB7IGhyZWYsIG9yaWdpbiwgcHJvdG9jb2wsIHVzZXJuYW1lLCBwYXNzd29yZCwgaG9zdHMsIHBhdGhuYW1lLCBzZWFyY2gsIHNlYXJjaFBhcmFtcywgaGFzaCB9ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHsgaHJlZiwgb3JpZ2luLCBwcm90b2NvbCwgdXNlcm5hbWUsIHBhc3N3b3JkLCBob3N0cywgcGF0aG5hbWUsIHNlYXJjaCwgc2VhcmNoUGFyYW1zLCBoYXNoIH07XG4gICAgfVxufVxuZXhwb3J0cy5Db25uZWN0aW9uU3RyaW5nID0gQ29ubmVjdGlvblN0cmluZztcbmNsYXNzIENvbW1hQW5kQ29sb25TZXBhcmF0ZWRSZWNvcmQgZXh0ZW5kcyBDYXNlSW5zZW5zaXRpdmVNYXAge1xuICAgIGNvbnN0cnVjdG9yKGZyb20pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiAoZnJvbSAhPT0gbnVsbCAmJiBmcm9tICE9PSB2b2lkIDAgPyBmcm9tIDogJycpLnNwbGl0KCcsJykpIHtcbiAgICAgICAgICAgIGlmICghZW50cnkpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjb25zdCBjb2xvbkluZGV4ID0gZW50cnkuaW5kZXhPZignOicpO1xuICAgICAgICAgICAgaWYgKGNvbG9uSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoZW50cnksICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0KGVudHJ5LnNsaWNlKDAsIGNvbG9uSW5kZXgpLCBlbnRyeS5zbGljZShjb2xvbkluZGV4ICsgMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gWy4uLnRoaXNdLm1hcChlbnRyeSA9PiBlbnRyeS5qb2luKCc6JykpLmpvaW4oJywnKTtcbiAgICB9XG59XG5leHBvcnRzLkNvbW1hQW5kQ29sb25TZXBhcmF0ZWRSZWNvcmQgPSBDb21tYUFuZENvbG9uU2VwYXJhdGVkUmVjb3JkO1xuZXhwb3J0cy5kZWZhdWx0ID0gQ29ubmVjdGlvblN0cmluZztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/mongodb-connection-string-url@3.0.2/node_modules/mongodb-connection-string-url/lib/index.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/mongodb-connection-string-url@3.0.2/node_modules/mongodb-connection-string-url/lib/redact.js":
/*!*****************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/mongodb-connection-string-url@3.0.2/node_modules/mongodb-connection-string-url/lib/redact.js ***!
  \*****************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.redactConnectionString = exports.redactValidConnectionString = void 0;\nconst index_1 = __importStar(__webpack_require__(/*! ./index */ \"(rsc)/../../node_modules/.pnpm/mongodb-connection-string-url@3.0.2/node_modules/mongodb-connection-string-url/lib/index.js\"));\nfunction redactValidConnectionString(inputUrl, options) {\n    var _a, _b;\n    const url = inputUrl.clone();\n    const replacementString = (_a = options === null || options === void 0 ? void 0 : options.replacementString) !== null && _a !== void 0 ? _a : '_credentials_';\n    const redactUsernames = (_b = options === null || options === void 0 ? void 0 : options.redactUsernames) !== null && _b !== void 0 ? _b : true;\n    if ((url.username || url.password) && redactUsernames) {\n        url.username = replacementString;\n        url.password = '';\n    }\n    else if (url.password) {\n        url.password = replacementString;\n    }\n    if (url.searchParams.has('authMechanismProperties')) {\n        const props = new index_1.CommaAndColonSeparatedRecord(url.searchParams.get('authMechanismProperties'));\n        if (props.get('AWS_SESSION_TOKEN')) {\n            props.set('AWS_SESSION_TOKEN', replacementString);\n            url.searchParams.set('authMechanismProperties', props.toString());\n        }\n    }\n    if (url.searchParams.has('tlsCertificateKeyFilePassword')) {\n        url.searchParams.set('tlsCertificateKeyFilePassword', replacementString);\n    }\n    if (url.searchParams.has('proxyUsername') && redactUsernames) {\n        url.searchParams.set('proxyUsername', replacementString);\n    }\n    if (url.searchParams.has('proxyPassword')) {\n        url.searchParams.set('proxyPassword', replacementString);\n    }\n    return url;\n}\nexports.redactValidConnectionString = redactValidConnectionString;\nfunction redactConnectionString(uri, options) {\n    var _a, _b;\n    const replacementString = (_a = options === null || options === void 0 ? void 0 : options.replacementString) !== null && _a !== void 0 ? _a : '<credentials>';\n    const redactUsernames = (_b = options === null || options === void 0 ? void 0 : options.redactUsernames) !== null && _b !== void 0 ? _b : true;\n    let parsed;\n    try {\n        parsed = new index_1.default(uri);\n    }\n    catch (_c) { }\n    if (parsed) {\n        options = { ...options, replacementString: '___credentials___' };\n        return parsed.redact(options).toString().replace(/___credentials___/g, replacementString);\n    }\n    const R = replacementString;\n    const replacements = [\n        uri => uri.replace(redactUsernames ? /(\\/\\/)(.*)(@)/g : /(\\/\\/[^@]*:)(.*)(@)/g, `$1${R}$3`),\n        uri => uri.replace(/(AWS_SESSION_TOKEN(:|%3A))([^,&]+)/gi, `$1${R}`),\n        uri => uri.replace(/(tlsCertificateKeyFilePassword=)([^&]+)/gi, `$1${R}`),\n        uri => redactUsernames ? uri.replace(/(proxyUsername=)([^&]+)/gi, `$1${R}`) : uri,\n        uri => uri.replace(/(proxyPassword=)([^&]+)/gi, `$1${R}`)\n    ];\n    for (const replacer of replacements) {\n        uri = replacer(uri);\n    }\n    return uri;\n}\nexports.redactConnectionString = redactConnectionString;\n//# sourceMappingURL=redact.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21vbmdvZGItY29ubmVjdGlvbi1zdHJpbmctdXJsQDMuMC4yL25vZGVfbW9kdWxlcy9tb25nb2RiLWNvbm5lY3Rpb24tc3RyaW5nLXVybC9saWIvcmVkYWN0LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9DQUFvQztBQUNuRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSwwQ0FBMEMsNEJBQTRCO0FBQ3RFLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw4QkFBOEIsR0FBRyxtQ0FBbUM7QUFDcEUsNkJBQTZCLG1CQUFPLENBQUMsMklBQVM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkZBQTZGLEVBQUU7QUFDL0Ysd0VBQXdFLEVBQUU7QUFDMUUsNkVBQTZFLEVBQUU7QUFDL0UsK0VBQStFLEVBQUU7QUFDakYsNkRBQTZELEVBQUU7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGVyaWNfXFxEZXNrdG9wXFxzeW5lcmd5LW1hdGNoLWFwcFxcbm9kZV9tb2R1bGVzXFwucG5wbVxcbW9uZ29kYi1jb25uZWN0aW9uLXN0cmluZy11cmxAMy4wLjJcXG5vZGVfbW9kdWxlc1xcbW9uZ29kYi1jb25uZWN0aW9uLXN0cmluZy11cmxcXGxpYlxccmVkYWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJlZGFjdENvbm5lY3Rpb25TdHJpbmcgPSBleHBvcnRzLnJlZGFjdFZhbGlkQ29ubmVjdGlvblN0cmluZyA9IHZvaWQgMDtcbmNvbnN0IGluZGV4XzEgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vaW5kZXhcIikpO1xuZnVuY3Rpb24gcmVkYWN0VmFsaWRDb25uZWN0aW9uU3RyaW5nKGlucHV0VXJsLCBvcHRpb25zKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCB1cmwgPSBpbnB1dFVybC5jbG9uZSgpO1xuICAgIGNvbnN0IHJlcGxhY2VtZW50U3RyaW5nID0gKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnJlcGxhY2VtZW50U3RyaW5nKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnX2NyZWRlbnRpYWxzXyc7XG4gICAgY29uc3QgcmVkYWN0VXNlcm5hbWVzID0gKF9iID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnJlZGFjdFVzZXJuYW1lcykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdHJ1ZTtcbiAgICBpZiAoKHVybC51c2VybmFtZSB8fCB1cmwucGFzc3dvcmQpICYmIHJlZGFjdFVzZXJuYW1lcykge1xuICAgICAgICB1cmwudXNlcm5hbWUgPSByZXBsYWNlbWVudFN0cmluZztcbiAgICAgICAgdXJsLnBhc3N3b3JkID0gJyc7XG4gICAgfVxuICAgIGVsc2UgaWYgKHVybC5wYXNzd29yZCkge1xuICAgICAgICB1cmwucGFzc3dvcmQgPSByZXBsYWNlbWVudFN0cmluZztcbiAgICB9XG4gICAgaWYgKHVybC5zZWFyY2hQYXJhbXMuaGFzKCdhdXRoTWVjaGFuaXNtUHJvcGVydGllcycpKSB7XG4gICAgICAgIGNvbnN0IHByb3BzID0gbmV3IGluZGV4XzEuQ29tbWFBbmRDb2xvblNlcGFyYXRlZFJlY29yZCh1cmwuc2VhcmNoUGFyYW1zLmdldCgnYXV0aE1lY2hhbmlzbVByb3BlcnRpZXMnKSk7XG4gICAgICAgIGlmIChwcm9wcy5nZXQoJ0FXU19TRVNTSU9OX1RPS0VOJykpIHtcbiAgICAgICAgICAgIHByb3BzLnNldCgnQVdTX1NFU1NJT05fVE9LRU4nLCByZXBsYWNlbWVudFN0cmluZyk7XG4gICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnYXV0aE1lY2hhbmlzbVByb3BlcnRpZXMnLCBwcm9wcy50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodXJsLnNlYXJjaFBhcmFtcy5oYXMoJ3Rsc0NlcnRpZmljYXRlS2V5RmlsZVBhc3N3b3JkJykpIHtcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3Rsc0NlcnRpZmljYXRlS2V5RmlsZVBhc3N3b3JkJywgcmVwbGFjZW1lbnRTdHJpbmcpO1xuICAgIH1cbiAgICBpZiAodXJsLnNlYXJjaFBhcmFtcy5oYXMoJ3Byb3h5VXNlcm5hbWUnKSAmJiByZWRhY3RVc2VybmFtZXMpIHtcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3Byb3h5VXNlcm5hbWUnLCByZXBsYWNlbWVudFN0cmluZyk7XG4gICAgfVxuICAgIGlmICh1cmwuc2VhcmNoUGFyYW1zLmhhcygncHJveHlQYXNzd29yZCcpKSB7XG4gICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdwcm94eVBhc3N3b3JkJywgcmVwbGFjZW1lbnRTdHJpbmcpO1xuICAgIH1cbiAgICByZXR1cm4gdXJsO1xufVxuZXhwb3J0cy5yZWRhY3RWYWxpZENvbm5lY3Rpb25TdHJpbmcgPSByZWRhY3RWYWxpZENvbm5lY3Rpb25TdHJpbmc7XG5mdW5jdGlvbiByZWRhY3RDb25uZWN0aW9uU3RyaW5nKHVyaSwgb3B0aW9ucykge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgcmVwbGFjZW1lbnRTdHJpbmcgPSAoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucmVwbGFjZW1lbnRTdHJpbmcpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICc8Y3JlZGVudGlhbHM+JztcbiAgICBjb25zdCByZWRhY3RVc2VybmFtZXMgPSAoX2IgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucmVkYWN0VXNlcm5hbWVzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0cnVlO1xuICAgIGxldCBwYXJzZWQ7XG4gICAgdHJ5IHtcbiAgICAgICAgcGFyc2VkID0gbmV3IGluZGV4XzEuZGVmYXVsdCh1cmkpO1xuICAgIH1cbiAgICBjYXRjaCAoX2MpIHsgfVxuICAgIGlmIChwYXJzZWQpIHtcbiAgICAgICAgb3B0aW9ucyA9IHsgLi4ub3B0aW9ucywgcmVwbGFjZW1lbnRTdHJpbmc6ICdfX19jcmVkZW50aWFsc19fXycgfTtcbiAgICAgICAgcmV0dXJuIHBhcnNlZC5yZWRhY3Qob3B0aW9ucykudG9TdHJpbmcoKS5yZXBsYWNlKC9fX19jcmVkZW50aWFsc19fXy9nLCByZXBsYWNlbWVudFN0cmluZyk7XG4gICAgfVxuICAgIGNvbnN0IFIgPSByZXBsYWNlbWVudFN0cmluZztcbiAgICBjb25zdCByZXBsYWNlbWVudHMgPSBbXG4gICAgICAgIHVyaSA9PiB1cmkucmVwbGFjZShyZWRhY3RVc2VybmFtZXMgPyAvKFxcL1xcLykoLiopKEApL2cgOiAvKFxcL1xcL1teQF0qOikoLiopKEApL2csIGAkMSR7Un0kM2ApLFxuICAgICAgICB1cmkgPT4gdXJpLnJlcGxhY2UoLyhBV1NfU0VTU0lPTl9UT0tFTig6fCUzQSkpKFteLCZdKykvZ2ksIGAkMSR7Un1gKSxcbiAgICAgICAgdXJpID0+IHVyaS5yZXBsYWNlKC8odGxzQ2VydGlmaWNhdGVLZXlGaWxlUGFzc3dvcmQ9KShbXiZdKykvZ2ksIGAkMSR7Un1gKSxcbiAgICAgICAgdXJpID0+IHJlZGFjdFVzZXJuYW1lcyA/IHVyaS5yZXBsYWNlKC8ocHJveHlVc2VybmFtZT0pKFteJl0rKS9naSwgYCQxJHtSfWApIDogdXJpLFxuICAgICAgICB1cmkgPT4gdXJpLnJlcGxhY2UoLyhwcm94eVBhc3N3b3JkPSkoW14mXSspL2dpLCBgJDEke1J9YClcbiAgICBdO1xuICAgIGZvciAoY29uc3QgcmVwbGFjZXIgb2YgcmVwbGFjZW1lbnRzKSB7XG4gICAgICAgIHVyaSA9IHJlcGxhY2VyKHVyaSk7XG4gICAgfVxuICAgIHJldHVybiB1cmk7XG59XG5leHBvcnRzLnJlZGFjdENvbm5lY3Rpb25TdHJpbmcgPSByZWRhY3RDb25uZWN0aW9uU3RyaW5nO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVkYWN0LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/mongodb-connection-string-url@3.0.2/node_modules/mongodb-connection-string-url/lib/redact.js\n");

/***/ })

};
;